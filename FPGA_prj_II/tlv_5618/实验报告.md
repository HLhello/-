## 1. 实验内容



## 2. 实验所用技术



## 3. 实验遇到的困难及解决办法



## 4. 实验所学到的知识







## class 4 线性序列机遇3串行接口ADC驱动设计与验证

ADC芯片

将模拟电压转化为数字电平

 使用spi时序接口

时序图ADC128s022.pdf->P7

对于线性序列机我们一般列一张表

确定每个时隙各个信号的状态

 将ADC采样的结果显示在数码管上

  ISSP工具使用

in-systen source and probes editor

sources：在PC端通过软件设置某个信号的值，该数值会精油与USB Blaster 电缆传递到正在运行的FPGA芯片中相应的位置。FPGA在使用该信号作为激励

probes：在FPGA内部使用probes将待检测的某些信号的值读取并经由usb blaster 传递到PC端，在pc端软件上显示这个值

嵌入式逻辑分析仪 signaltap II

使用FPGA片上剩余的逻辑以及存储资源设计了片上的逻辑分析仪工具

该工具能够抓取设计中的节点信号以及IO引脚上的信号，并成段的存储在片上的存储器中，然后将存储器中存储的数据通过USB blaster下载电缆传递到pc端，由quartus软件中集成的调试工具读取这些数据并以数字波形的形式显示出来

 uart关键参数及时序图

uart通信在使用前需要做多项设置，最常见的设置包括数据位数，波特率大小，机构检验类型和停止位数

FIFO的使用

先进先出

基于串口的电压采集系统

1. 多模块构成的系统，如何进行系统的链接设计，通过系统框图的方式理清楚各个模块间的关联

2. 握手信号（en_conv，conv_done，entx，tx_done）对于这些握手信号的控制和使用

3. 三段式状态机的写法，参考资料详解

4. display函数的使用，将系统运行过程中的一些数据打印到modelsim信息窗口，可以再msim——transcripte文件中打印的内容

   基于串口的任意波形信号发生器

   1. 串口接收的设计与实现

   2. 双口ram的使用

   3. 串口数据接收指令和数据的解析

      1. 指令功能如使能信号的输出，停止信号的输出
      2. 数据则是希望输出的任意波形

   4. 读取ram中的数据送给dac输出波形

   5. 设计数据帧

      | 帧头 | 帧尾 | 功能码 | 一阵数据长度           | 。。。 |
      | ---- | ---- | ------ | ---------------------- | ------ |
      | 0xaa | 0xf0 |        | 长度低字节\|长度高字节 |        |



 





 