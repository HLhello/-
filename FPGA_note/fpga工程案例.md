## class 1 蜂鸣器驱动设计不同频率

典型时序逻辑——计数器设计

- 确定时钟信号频率，确定计数器的模
- 同步计数器，异步计数器
- 计数器设计用到了加法器，比较器，寄存器，选择器
- 计数器就是定时器
- 定时器在不同的运行时段，可能器需要的定时时间不同
- 定时器可以循环定时，也可以单词定时
- 按键时间达到时，需要产生标志信号
- 必要是需要对外提供实时计数值

设计定义

- 定时器的定时时间参数可以通过该模块的一个端口输入，通过调剂端口上的值，可以修改时间
- 设置一个计数模式控制信号，当信号为1时，设置为循环定时模式，信号为0时，设置为单次技术模式
- 输出计数器实时计数值，改制将用于产生特定产空比的方波

蜂鸣器介绍

- 压电式适用于报警器
- 电磁式适用于语音设备
- 有源式
- 无源式

变音蜂鸣器——层次化设计模块

## class 2 led翻转模式按键控制

典型设计模式——状态机



## calss 3 数码管驱动设计

芯片时序逻辑分析——74HC595

将串行的八位数据转换为并行的八位数据 

支持级联 

## class 4 线性序列机遇3串行接口ADC驱动设计与验证

ADC芯片

将模拟电压转化为数字电平

 使用spi时序接口

时序图ADC128s022.pdf->P7

对于线性序列机我们一般列一张表

确定每个时隙各个信号的状态

 将ADC采样的结果显示在数码管上

  ISSP工具使用

in-systen source and probes editor

sources：在PC端通过软件设置某个信号的值，该数值会精油与USB Blaster 电缆传递到正在运行的FPGA芯片中相应的位置。FPGA在使用该信号作为激励

probes：在FPGA内部使用probes将待检测的某些信号的值读取并经由usb blaster 传递到PC端，在pc端软件上显示这个值

嵌入式逻辑分析仪 signaltap II

使用FPGA片上剩余的逻辑以及存储资源设计了片上的逻辑分析仪工具

该工具能够抓取设计中的节点信号以及IO引脚上的信号，并成段的存储在片上的存储器中，然后将存储器中存储的数据通过USB blaster下载电缆传递到pc端，由quartus软件中集成的调试工具读取这些数据并以数字波形的形式显示出来

 uart关键参数及时序图

uart通信在使用前需要做多项设置，最常见的设置包括数据位数，波特率大小，机构检验类型和停止位数

FIFO的使用

先进先出

基于串口的电压采集系统

1. 多模块构成的系统，如何进行系统的链接设计，通过系统框图的方式理清楚各个模块间的关联

2. 握手信号（en_conv，conv_done，entx，tx_done）对于这些握手信号的控制和使用

3. 三段式状态机的写法，参考资料详解

4. display函数的使用，将系统运行过程中的一些数据打印到modelsim信息窗口，可以再msim——transcripte文件中打印的内容

   基于串口的任意波形信号发生器

   1. 串口接收的设计与实现

   2. 双扣ram的使用

   3. 串口数据接收指令和数据的解析

      1. 指令功能如使能信号的输出，停止信号的输出
      2. 数据则是希望输出的任意波形

   4. 读取ram中的数据送给dac输出波形

   5. 设计数据帧

      | 帧头 | 帧尾 | 功能码 | 一阵数据长度           | 。。。 |
      | ---- | ---- | ------ | ---------------------- | ------ |
      | 0xaa | 0xf0 |        | 长度低字节\|长度高字节 |        |


基于FPGA的信号发生器

使用dac输出指定频率的正弦波信号

使用矩阵键盘输入需要输出的信号的频率

使用lcd显示实时数据

信号发生器设计双通道

划分的模块

dac驱动模块

矩阵键盘驱动模块

键盘输入数据到实际控制信号的转换

lcd显示

rom波形存储器/dds核心模块

控制模块

复位的时候建议直接赋值为0，综合时会走d触发器的清零逻辑，若赋其他值，会生成多路器

dds

数字合成器（direct digital synthesizer）是一种新型的频率合成技术，具有相对带宽大，频率装换时间短分辨率高和相位连续性好等优点，比较容易实现频率相位以及幅度的数控调制，广泛应用于通信领域

 verilog 中计算的化简

- 可以将其拆分为2的幂级数，比如10 = 2+8，尽量不要使用乘法器
- 如果相除之后产生大量小数位，可以先将被除数扩大到商没有小数，将计算结果进行其他计算，最终在将结果缩小相应的倍数，因为在FPGA终没有浮点数这一说，所有产生小数的结果，只能精确到1，采用上述方法后，可以将结果进一步的精确
- 如果结果太大可以将结果扩大的倍数放小一点，这样造成的为是结果精度的减小

- 考虑溢出问题

 NCO ip核

 pll ip核

输入时钟频率

板子上的晶振提供稳定的一个时钟频率50MHz

也可以通过板子上的pll电路进行分频和倍频

通过fpga（Ep4ce10f17c8）上的pll ip核，对输入时钟进行分频和倍频

通过50MHz的时钟作出24MHz的时钟--》50*x/y = 24，x，y都是整数

inout口

设置一个三态门

以太网FPGA设计

服务器数据交换

led数据交换

以太网mac简述

以太网分层，七层协议，四层协议

什么叫物理层-->网线+网卡

网口--》网线  物理介质层、

网线--》双绞线

数据链路层--》以太网mac层

 udp协议FPGA实现

提供面向失误的简单不可靠信息传送服务

 驱动d触发器的个数成为扇出

 altclkctrl ip核

将非全局时钟信号接到全局时钟资源上

全局时钟资源的应用

时序分析--->时序约束文件sdc

全编译得到网表文件

创建时钟

I2C总线是一个双向的两线连续总线，提供集成电路之间的通信线路，I2C总线是一种串行扩展计数，最早由philips公司推出，广泛应用于电视录像机核音频设备，I2C总线的意思是完成集成电路或功能单元之间信息交换的规范或协议 

IIC接口

1. sda（inout），scl（inout）
2. 器件地址，每一个器件，在具体的电路中都对应一个唯一的器件地址，IIC主机通过这个唯一的器件地址来和对应的设备进行通信
   1. 通常情况下器件地址是确定的，完全设定好或者固定几位主从器件的角色也是确定的
   2. 
3. 0总线状态
   1. 总线空闲状态 sda为高点平，SCL为低电平
   2. I2C协议起始位 scl位高点平，sda出现下降沿，产生一个起始位
   3. I2C协议结束位，scl为高点平，sda出现上升沿，产生一个结束位
   4. 在scl的低电平，sda线上的数据变化
   5. 在scl的高点平器件，sda线上的数据被读取
4. 应答位
   1. 每当数据接收方正确接收一个字节的指令或者数据，都会产生一个应答位
   2. 每当数据发送方发送完成一个字节的数据或指令后，应该讲sda信号线设置为三态数据，由于sda总线上拉电阻的存在，此时sda信号线为高点平，数据接收方控制sda信号线，如果正确接收数据，则将sda信号线拉为低电平
5. 读写控制位 0 ：写操作，1：读操作
6. 以AT24C02为例  ：一位 起始位，四位固定位（1010），三位外部片选（A0,A1,A2），读写控制位（1/0）读取应答位（ACK）
7. 

## 以太网图传项目

1. 图像产生（cmos）
2. 图像缓存（图像传感器产生的数据较快，百兆以太网发送图像数据较慢，因此需要一个中间缓存来将图像存储起来，然后在发送）
3. 图像发送（使用UDP系诶一发送） 
4. 每个图像传感器都包括配置接口和图像数据接口
5. sccb--> I2c
6. DVP（MIPI）
7. 图像数据的格式转换（RGB/YVUE/Bayer 。。。）

WM8731

以太网图像数据发出去

​	1280图像数据

​	2个字节的韩浩

​	内部有一个至少1280个字节的FIFO或ram，16位*1024

需要在图像一帧存完之后再来读取并发送，在一台网发送图像数据的过程中，应该暂停图像数据的写入

从sdram里面读取所需要的的数据，存入以太网发送模块的FIFO或者ram中去

使能以太网发送模块开始一帧数据的发送

以太网发送模块发送完一帧图像之后，才能够再使能新一帧图像的存储



 